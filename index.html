<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Kraco Flix</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      background-color: #141414;
      color: #fff;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      background-color: #e50914;
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
    }
    header a.logo-link {
      text-decoration: none;
      color: white;
    }
    header h1 {
      margin: 0;
      font-size: 2em;
      font-weight: bold;
    }
    .controls {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .controls input,
    .controls select {
      padding: 10px;
      font-size: 1em;
      border: none;
      border-radius: 5px;
    }
    .trophies-link {
      padding: 10px 15px;
      background-color: white;
      color: #e50914;
      font-weight: bold;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s ease;
    }
    .trophies-link:hover {
      background-color: #ccc;
    }
    .banner {
      position: relative;
      height: 55vh;
      overflow: hidden;
      flex-shrink: 0;
    }
    .banner img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 150%;
      object-fit: cover;
      opacity: 0;
      animation: fadeBanner 15s infinite;
    }
    .banner img:nth-child(1) { animation-delay: 0s; }
    .banner img:nth-child(2) { animation-delay: 5s; }
    .banner img:nth-child(3) { animation-delay: 10s; }

    @keyframes fadeBanner {
      0%, 100% { opacity: 0; }
      5%, 30% { opacity: 1; }
      35% { opacity: 0; }
    }

    .banner-content {
      position: absolute;
      top: 50%;
      left: 60px;
      transform: translateY(-50%);
      z-index: 1;
    }
    .banner-content h2 {
      font-size: 3em;
      margin-bottom: 10px;
    }
    .banner-content p {
      font-size: 1.2em;
      max-width: 600px;
    }
    .movies-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      padding: 40px;
      flex-grow: 1;
    }
    .movie {
      background-color: #222;
      border-radius: 5px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .movie:hover {
      transform: scale(1.08);
    }
    .movie img {
      width: 100%;
      display: block;
    }
    .movie-title {
      padding: 10px;
      text-align: center;
    }
    #videoPlayer {
      text-align: center;
      padding: 40px;
      background-color: #111;
      display: none;
    }
    video {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      background: black;
      display: block;
      margin: 0 auto;
    }
    #closeBtn {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #e50914;
      border: none;
      border-radius: 5px;
      color: white;
      font-size: 1em;
      cursor: pointer;
    }
    footer {
      background-color: #111;
      color: #aaa;
      text-align: center;
      padding: 20px;
      flex-shrink: 0;
      position: relative;
      z-index: 10;
    }
    footer a button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #e50914;
      border: none;
      border-radius: 5px;
      color: white;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- En-tête -->
  <header>
    <a href="index.html" class="logo-link"><h1>Kraco Flix</h1></a>
    <div class="controls">
      <input type="text" id="searchInput" placeholder="Rechercher..." />
      <select id="genreFilter">
        <option value="all">Tous les genres</option>
        <option value="action">Action</option>
        <option value="comedy">Comédie</option>
        <option value="drama">Drame</option>
        <option value="other">Autre</option>
      </select>
      <a href="Sous-dossier/Autres-pages/trophees.html" class="trophies-link">Trophées</a>
    </div>
  </header>

  <!-- Bannière -->
  <div class="banner">
    <img src="Sous-dossier/Images/bannier1.jpg" alt="Bannière 1">
    <img src="Sous-dossier/Images/bannier2.jpg" alt="Bannière 2">
    <img src="Sous-dossier/Images/bannier3.jpg" alt="Bannière 3">
    <div class="banner-content">
      <h2>Bienvenue sur Kraco Flix</h2>
      <p>Découvrez tous les court-métrages créés par Kraco Dingo Corp.</p>
    </div>
  </div>

  <!-- Grille des films -->
  <div class="movies-grid" id="moviesGrid">
    <!-- Les blocs .movie sont déjà en place dans ton code HTML, je ne les recopie pas ici pour gagner de la place -->
    <!-- ... -->
  </div>

  <!-- Lecteur vidéo -->
  <div id="videoPlayer">
    <h2 id="videoTitle"></h2>
    <video id="video" controls autoplay>
      <source id="videoSource" src="" type="video/mp4">
      Votre navigateur ne supporte pas la vidéo HTML5.
    </video>
    <button id="closeBtn">Fermer</button>
  </div>

  <!-- Pied de page -->
  <footer>
    <p>© 2025 Kraco Flix — Tous droits réservés<br>Site créé par Loan Barabes</p>
    <a href="Sous-dossier/Autres-pages/stream.html" style="text-decoration: none;">
      <button>Accéder à Kraco Stream</button>
    </a>
  </footer>

  <!-- Script -->
  <script>
    const searchInput = document.getElementById('searchInput');
    const genreFilter = document.getElementById('genreFilter');
    const movies = document.querySelectorAll('.movie');
    const videoPlayer = document.getElementById('videoPlayer');
    const video = document.getElementById('video');
    const videoSource = document.getElementById('videoSource');
    const videoTitle = document.getElementById('videoTitle');
    const closeBtn = document.getElementById('closeBtn');

    function filterMovies() {
      const searchText = searchInput.value.toLowerCase();
      const genre = genreFilter.value;
      movies.forEach(movie => {
        const title = movie.getAttribute('data-title').toLowerCase();
        const movieGenre = movie.getAttribute('data-genre');
        const matchesSearch = title.includes(searchText);
        const matchesGenre = (genre === 'all') || (movieGenre === genre);
        movie.style.display = (matchesSearch && matchesGenre) ? 'block' : 'none';
      });
    }

    searchInput.addEventListener('input', filterMovies);
    genreFilter.addEventListener('change', filterMovies);

    movies.forEach(movie => {
      movie.addEventListener('click', () => {
        const videoSrc = movie.getAttribute('data-video');
        const title = movie.getAttribute('data-title');
        videoSource.src = videoSrc;
        video.load();
        videoTitle.textContent = title;
        videoPlayer.style.display = 'block';
        video.play();
        window.scrollTo({ top: videoPlayer.offsetTop, behavior: 'smooth' });
      });
    });

    closeBtn.addEventListener('click', () => {
      video.pause();
      videoPlayer.style.display = 'none';
      videoSource.src = '';
      video.load();
    });

    document.addEventListener('keydown', e => {
      if (videoPlayer.style.display === 'block') {
        switch (e.code) {
          case 'Space':
            e.preventDefault();
            video.paused ? video.play() : video.pause();
            break;
          case 'ArrowRight':
            video.currentTime = Math.min(video.duration, video.currentTime + 10);
            break;
          case 'ArrowLeft':
            video.currentTime = Math.max(0, video.currentTime - 10);
            break;
          case 'KeyF':
            if (!document.fullscreenElement) {
              video.requestFullscreen().catch(console.error);
            } else {
              document.exitFullscreen();
            }
            break;
          case 'Escape':
            closeBtn.click();
            break;
        }
      }
    });
  </script>

</body>
</html>
